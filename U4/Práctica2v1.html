<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <script type="text/javascript">
        var titulo = document.createElement("h1");
        var text = document.createTextNode("Mi lista de la compra");
        titulo.style.fontFamily = "Calibri";
        titulo.appendChild(text);

        var cajatex = document.createElement("input");
        cajatex.setAttribute("type", "text");

        var boton = document.createElement("button");
        boton.setAttribute("onclick", "añadir()");
        text = document.createTextNode("Añadir");
        boton.appendChild(text);

        var categories = document.createElement("select");
        cat1 = document.createElement("option");
        cat2 = document.createElement("option");
        cat3 = document.createElement("option");
        cat4 = document.createElement("option");
        cat1.setAttribute("value", "charcutería");
        cat2.setAttribute("value", "congelados");
        cat3.setAttribute("value", "limpieza");
        cat4.setAttribute("value", "pecadillos");
        var t1 = document.createTextNode("charcutería");
        var t2 = document.createTextNode("congelados");
        var t3 = document.createTextNode("limpieza");
        var t4 = document.createTextNode("pecadillos");
        cat1.appendChild(t1);
        cat2.appendChild(t2);
        cat3.appendChild(t3);
        cat4.appendChild(t4);
        categories.appendChild(cat1);
        categories.appendChild(cat2);
        categories.appendChild(cat3);
        categories.appendChild(cat4);

        var d;
        var producto;

        function añadir() {
            if (cajatex.value == "" || !(isNaN(cajatex.value))) {
                alert("Rellene el campo con letritas");
            } else {
                d = document.createElement("div");
                producto = document.createTextNode(cajatex.value);
                d.appendChild(producto);
                d.setAttribute("onclick", "eliminar()");
                document.body.appendChild(d);
                if (categories.value == "charcutería") {
                    d.style.background = "pink";
                } else if (categories.value == "congelados") {
                    d.style.background = "lightblue";
                } else if (categories.value == "limpieza") {
                    d.style.background = "lightgreen";
                } else {
                    d.style.background = "purple";
                }
            }
        }

        function eliminar() {
            d = document.querySelector("div:hover");
            d.parentNode.removeChild(d);
        }
    </script>
</head>

<body>
    <script type="text/javascript">
        document.body.appendChild(titulo);
        document.body.appendChild(cajatex);
        document.body.appendChild(boton);
        document.body.appendChild(categories);
    </script>
</body>

</html>
